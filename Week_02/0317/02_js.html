<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <button id="generate-btn">생성</button>

    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
    <script>
      function generateLottoNumbers() {
        let numbers = []

        // 1부터 45 사이의 숫자 배열 생성
        for (let i = 1; i <= 45; i++) {
          numbers.push(i)
        }

        // lodash sampleSize 함수를 사용하여 배열에서 중복되지 않는 6개의 숫자 추출
        const lottoNumbers = _.sampleSize(numbers, 6)

        return lottoNumbers
      }

      function getLottoResult() {
        const lottoNumbers = generateLottoNumbers()

        // 당첨 번호 및 보너스 번호 생성
        const winningNumbers = _.sampleSize(lottoNumbers, 6)
        const bonusNumber = _.sample(_.difference(numbers, winningNumbers))

        // 생성 번호와 당첨 번호를 비교하여 등수 결정
        const matchedNumbers = _.intersection(lottoNumbers, winningNumbers)
        const rank = matchedNumbers.length

        // 결과를 콘솔에 출력
        console.log(`당첨 번호: ${winningNumbers.join(", ")}`)
        console.log(`보너스 번호: ${bonusNumber}`)
        console.log(`생성 번호: ${lottoNumbers.join(", ")}`)
        console.log(`등수: ${rank}`)
      }

      // 버튼 클릭 이벤트에 함수 바인딩
      document
        .getElementById("generate-btn")
        .addEventListener("click", getLottoResult)
    </script>
  </body>
</html>
